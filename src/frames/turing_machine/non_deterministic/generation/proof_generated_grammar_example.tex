% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Exemple : le langage $\mathcal{L}(ba^\star b)$}

  \on[y=20mm, x=20mm]{
    \begin{tikzpicture}[tape, x=7mm, y=7mm]
      \cell{$\blank$}                
      \cell{\alt<-3>{$\blank$}{$b$}} \smheadb<3>
      \cell{\alt<-4>{$\blank$}{$a$}} \smheadb<4,6>
      \cell{\alt<-5>{$\blank$}{$b$}} \smheadb<5>
      \cell{$\blank$}                 
    \end{tikzpicture}
  }

  \on[y=0mm, x=20mm]{
    \begin{tikzpicture}[turingMachine]
      \state [alert on=<{-3}>,  initial  ] (0) at (0,0) {$0$}; 
      \state [alert on=<{4,5}>,          ] (1) at (1,0) {$1$}; 
      \state [alert on=<{6-}>,  accepting] (2) at (2,0) {$2$}; 

      \path (0) edge             node {$\smTMtransR{\blank}{b}$} (1);
      \path (1) edge[loop below] node {$\smTMtransR{\blank}{a}$} (1);
      \path (1) edge             node {$\smTMtransL{\blank}{b}$} (2);
    \end{tikzpicture}
  }

  \on[left=40mm]{
    $G = \left\{\begin{array}{rcl}
      \alertb<2>{S}      & \alertb<2>{\rightarrow} & \alertb<2>{G 0 D}                             \\
      \alertb<7>{G}      & \alertb<7>{\rightarrow} & G\blank \mid \alertb<7>{\varepsilon}              \\
      G\blank                &\rightarrow              & G                                             \\
      \alertb<3,7>{D}    &\alertb<3,7>{\rightarrow}& \alertb<3>{\blank D} \mid \alertb<7>{\varepsilon} \\
      \blank D               &\rightarrow              & D                                             \\
      \\                                                                                        
      \alertb<4>{0 \blank}   & \alertb<4>{\rightarrow} & \alertb<4>{b 1}                               \\
      \alertb<5>{1 \blank}   & \alertb<5>{\rightarrow} & \alertb<5>{a 1}                               \\
      \alertb<6>{a 1 \blank} & \alertb<6>{\rightarrow} & \alertb<6>{2 a b}                             \\
      b 1 \blank             & \rightarrow             & 2 b b                                         \\
      \blank 1 \blank            & \rightarrow             & 2 \blank b                                        \\
      \\                                                                                         
      \alertb<7>{2}      & \alertb<7>{\rightarrow} & \alertb<7>{\varepsilon}                       \\
    \end{array}\right.$
  }

  \on[y=-25mm, x=20mm]{
    $\begin{array}{r@{~~}l@{~~}l@{~~}l@{~~}l} 
      S & \uncover<2->{\vdash\phantom{^\star}} & \uncover<2->{G \structure{\alertb<2>{0}} D}                                                                                      \\
      &   \uncover<3->{\vdash^\star}           & \uncover<3->{G 0 \structure{\alertb<3>{\blank}} D}\phantom{DD} & \uncover<4->{\vdash} & \uncover<4->{G \structure{b \alertb<4>{1}} D}      \\
      &   \uncover<5->{\vdash^\star}           & \uncover<5->{G b 1 \structure{\blank} D}                       & \uncover<5->{\vdash} & \uncover<5->{G b \structure{\alertb<5>{a 1}} D}    \\
      &   \uncover<6->{\vdash^\star}           & \uncover<6->{G b a 1 \structure{\blank} D}                     & \uncover<6->{\vdash} & \uncover<6->{G b \structure{\alertb<5>{2 a b}} D}  \\
      &   \uncover<7->{\vdash^\star}           & \uncover<7->{b a b}                                                                                                              \\
    \end{array}$
  }

\end{frame}

\endgroup
