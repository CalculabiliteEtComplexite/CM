% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\SetKwFunction{Forcebrute}{force\_brute}
\SetKwData{Old}{old}
\SetKwData{New}{etape}
\SetKwData{Vu}{union}

\begin{frame}{Rappel : Recherche ascendante par force brute}

  \on[top]{
    \begin{algorithm}[H]
      \Fun{\Forcebrute($G = \langle \Sigma, \Gamma, S, R \rangle$ : grammaire, $u$ : mot) : bool√©en}{
        \Alertb<1>{$\New \leftarrow \{u\}$};
        $\Vu \leftarrow \New$\;
        \While{$\Alertb<5>{\New \neq \emptyset} \land \Alertb<4>{S\notin \New}$}{
          \Alertb<2,3>{$\New \leftarrow \{ v\in \Sigma^\star \,|\, \exists w \in \New, v \vdash w \} \setminus \Vu$}\;
          $\Vu \leftarrow \Vu \cup \New$\;
        }
        \Return \Alertb<4-5>{$S \in \New$}\;
      }
    \end{algorithm}
  }

  \onExampleBlock[y=-5mm]{$abc \in L$}{\small
    $\begin{array}{l@{~~}l@{~~}l@{~~}l@{~~}l@{~~}l@{~~}l}
      \alert<1>{\{\alert<2>{ab}\structure<2>{c}\}} \uncover<2->{&\leftarrow & \{\alert<2>{aB}\structure<3>{c}, \alert<3>{ab}\structure<2>{C}\}}\uncover<3->{&\leftarrow& \{\alert<3>{aB}\structure<3>{C}\}} \\
      \uncover<4->{& \leftarrow & \{aBX\} & \leftarrow & \{aCX\} & \leftarrow & \{aCB\} \\
        & \leftarrow & \{\alert<4>{S}\} \\}
    \end{array}$
  }

  \onExampleBlock<5>[bottom]{$abbc \notin L$}{\small
    $\begin{array}{l@{~~}l@{~~}l@{~~}l@{~~}l}
      \{abbc\} & \leftarrow & \{aBbc, abBc, abbC\} & \leftarrow & \{aBBc, aBbC, abBC\} \\
      & \leftarrow & \{aBBC, abBX\} & \leftarrow & \{aBBX, abCX\} \\
      & \leftarrow & \{aBCX, abCB\} & \leftarrow & \{aBXX, aBCB\} \\
      & \leftarrow & \{aCXX, aBXB\} & \leftarrow & \{aCBX, aCXB\} \\
      & \leftarrow & \{aCCX, aCBB\} & \leftarrow & \{aCCB, aCBB\} \\
      & \leftarrow & \alert{\emptyset} \\
    \end{array}$
  }

  \on[right=30mm]{\example{
    $\left\{\begin{array}{r@{~~}c@{~~}l}
    S   & \rightarrow & aCB  \\
    C B & \rightarrow & C X  \\
    C X & \rightarrow & B X  \\
    B X & \rightarrow & B C  \\
    \alert<2,3>{a B} & \alert<2,3>{\rightarrow} & \alert<2,3>{a b}  \\
    b B & \rightarrow & b b  \\
    \structure<2,3>{C}   & \structure<2,3>{\rightarrow} & \structure<2,3>{c}
    \end{array}\right.$
  }}

\end{frame}

\endgroup
