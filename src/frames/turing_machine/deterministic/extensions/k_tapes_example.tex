% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Exemple -- DÃ©cision de $\{a^n b^n c^n \mid n>0\}$}

  \on[y=25mm]{
    \begin{tikzpicture}[tape, x=7mm, y=7mm]
      \node{$A$ :};
      \cell{}                 \smheadb<8>
      \cell{\alt<-1>{}{$a$}}  \smhead <1,7,9>
      \cell{\alt<-2>{}{$a$}}  \smheadb<2,6>
      \cell{}                 \smheadb<3-5>
      \cell{}
      \cell{}
      \cell{}
      \cell{}
    \end{tikzpicture}
  }

  \on[y=10mm]{
    \begin{tikzpicture}[tape, x=7mm, y=7mm]
      \node{$B$ :};
      \cell{}                 \smheadb<8>
      \cell{\alt<-3>{}{$b$}}  \smhead <-3,7,9>
      \cell{\alt<-4>{}{$b$}}  \smheadb<4,6>
      \cell{}                 \smheadb<5>
      \cell{}
      \cell{}
      \cell{}
      \cell{}
    \end{tikzpicture}
  }

  \on[y=-5mm]{
    \begin{tikzpicture}[tape, x=7mm, y=7mm]
      \node{$r$ :};
      \cell{} 
      \cell{$a$}    \smhead <1> 
      \cell{$a$}    \smheadb<2> 
      \cell{$b$}    \smheadb<3> 
      \cell{$b$}    \smheadb<4> 
      \cell{$c$}    \smheadb<5,6> 
      \cell{$c$}    \smheadb<7,9> 
      \cell{} \smheadb<8> 
    \end{tikzpicture}
  }
  
  \on[y=-28mm] {
    \begin{tikzpicture}[turingMachine,x=25mm]
      \state[alert ob=<{-3}>,  initial  ]  (0)              {0}; 
      \state[alert ob=<{4,5}>,          ]  (1) [right=of 0] {1}; 
      \state[alert ob=<{6-8}>,          ]  (2) [right=of 1] {2}; 
      \state[alert ob=<{9}>,   accepting]  (3) [right=of 2] {3}; 

      \path (0) edge             node {\smGroup{\smTMtransR[B]{\blank}{b}      \smTMtransR[r]{b}{b}}}                                          (1);
      \path (1) edge             node {\smGroup{\smTMtransL[A]{\blank}{\blank} \smTMtransL[B]{\blank}{\blank} \smTMtransS[r]{c}{c}}}           (2);
      \path (2) edge             node {\smGroup{\smTMtransR[A]{\blank}{\blank} \smTMtransR[B]{\blank}{\blank} \smTMtransL[r]{\blank}{\blank}}} (3);
      \path (0) edge[loop below] node {\smGroup{\smTMtransR[A]{\blank}{a}      \smTMtransR[r]{a}{a}}}                                          (0);    
      \path (1) edge[loop below] node {\smGroup{\smTMtransR[B]{\blank}{b}      \smTMtransR[r]{b}{b}}}                                          (1);    
      \path (2) edge[loop below] node {\smGroup{\smTMtransL[A]{a}{a}           \smTMtransL[B]{b}{b}           \smTMtransR[r]{c}{c}}}           (2);
    \end{tikzpicture}
  }

\end{frame}


\endgroup
