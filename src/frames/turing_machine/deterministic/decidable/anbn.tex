% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: <Nom de la partie>
% Section: <Nom de la section>
% Sub-section: <Nom de la sous-section>  % (facultatif, laisser vide si non utilisé)
% Frame: <Titre de la slide>

\begingroup

\begin{frame}{Exemple : Décidabilité de $\{a^n b^n | n\in \mathbb{N}\}$}

  \on<20>[top]{
    Le mot $aaabbb$ est \alert{accepté}
  }

  \on[y=20mm]{
    \begin{tikzpicture}[tape, x=10mm, y=10mm]
      \cell{$\blank$}                 
      \cell[structure ob=<1>,  alert ob=<2> ]{\alt<1>{$a$}{$\blank$}}   \smhead<1>          \smheadfrom<10>{4}
      \cell[structure ob=<11>, alert ob=<12>]{\alt<-11>{$a$}{$\blank$}} \smhead<2,11,18>    \smheadfrom<14>{2}  
      \cell[structure ob=<15>, alert ob=<16>]{\alt<-15>{$a$}{$\blank$}} \smhead<3,15,17,19>   
      \cell[structure ob=<17>, alert ob=<18>]{\alt<-17>{$b$}{$\blank$}} \smhead<4,13,20>    \smheadfrom<16>{1}  
      \cell[structure ob=<13>, alert ob=<14>]{\alt<-13>{$b$}{$\blank$}} \smhead<5,9>        \smheadfrom<12>{-3}  
      \cell[structure ob=<8>,  alert ob=<9> ]{\alt<-8>{$b$}{$\blank$}}  \smhead<6,8>          
      \cell{$\blank$}                                                   \smhead<7>            
    \end{tikzpicture}
  }

  \on[y=-15mm]{
    \begin{tikzpicture}[turingMachine]
      \state [alert ob=<{1,11,15,19}>, initial above] (A) at (1,1) {\textbf{A}}; 
      \state [alert ob=<{2-7,12,16}>                ] (B) at (2,1) {\faForward}; 
      \state [alert ob=<{8,13,17}>                  ] (C) at (2,0) {\textbf{B}}; 
      \state [alert ob=<{9,10,14,18}>               ] (D) at (1,0) {\faBackward}; 
      \state [alert ob=<{20}>,         accepting    ] (E) at (0,1) {\faCheck}; 

      \path (A) edge             node {\smTMtransR{a}{\blank}} (B);
      \path (B) edge[loop right] node {\smGroup{\smTMtransR{a}{a}\smTMtransR{b}{b}}} (B);
      \path (B) edge             node {\smTMtransL{\blank}{\blank}} (C);
      \path (C) edge             node {\smTMtransL{b}{\blank}} (D);
      \path (D) edge[loop left]  node {\smGroup{\smTMtransL{a}{a}\smTMtransL{b}{b}}} (D);
      \path (D) edge             node {\smTMtransR{\blank}{\blank}} (A);
      \path (A) edge             node {\smTMtransR{\blank}{\blank}} (E);
    \end{tikzpicture}
  }
  
\end{frame}

\endgroup
